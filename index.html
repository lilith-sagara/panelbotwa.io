<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sagara Hosting</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

  <style>
    :root{
      --bg:#071018;
      --panel:#0f1720;
      --muted:#9aa8b3;
      --accent-cyan:#66fcf1;
      --accent-purple:#8a6cff;
      --glass: rgba(255,255,255,0.03);
      --glass-2: rgba(102,252,241,0.03);
      --neon: 0 10px 30px rgba(102,252,241,0.06), inset 0 1px 0 rgba(255,255,255,0.02);
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:'Poppins',Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;}
    body{
      background: linear-gradient(180deg,#05070a 0%, #071018 100%);
      color:#dbeef0;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      overflow-y:auto;
    }

    /* Layout */
    .app {
      display: grid;
      grid-template-columns: 260px 1fr;
      gap: 24px;
      min-height:100vh;
      padding:24px;
    }

    /* Sidebar */
    .sidebar {
      background: linear-gradient(180deg,var(--panel), rgba(11,15,23,0.95));
      border-radius:12px;
      padding:18px;
      box-shadow: var(--neon);
      display:flex;
      flex-direction:column;
      gap:14px;
    }
    .brand {
      font-weight:700;
      color:var(--accent-cyan);
      letter-spacing:0.6px;
      font-size:18px;
      display:flex;
      align-items:center;
      gap:10px;
      font-family: 'Orbitron', sans-serif;
    }
    .brand .dot{
      width:12px;height:12px;border-radius:3px;background:linear-gradient(90deg,var(--accent-cyan),var(--accent-purple));
      box-shadow:0 6px 18px rgba(106,220,210,0.12);
    }
    .sidebar .menu {
      margin-top:6px;
      display:flex;flex-direction:column;gap:6px;
    }
    .menu button {
      background:transparent;border:0;color:var(--muted);text-align:left;padding:12px;border-radius:8px;cursor:pointer;font-weight:600;
      display:flex;align-items:center;gap:12px;transition:all .18s;font-size:14px;
    }
    .menu button:hover{background:rgba(255,255,255,0.02);color:var(--accent-cyan)}
    .menu button.active{background:linear-gradient(90deg,rgba(102,252,241,0.06), rgba(138,108,255,0.03)); color:var(--accent-cyan); box-shadow: inset 0 1px 0 rgba(255,255,255,0.02);}

    .menu button .badge {
      margin-left:auto;background:rgba(255,255,255,0.04);padding:4px 8px;border-radius:999px;font-size:12px;color:var(--muted);
    }

    .sidebar .foot {
      margin-top:auto;font-size:13px;color:var(--muted);display:flex;justify-content:space-between;align-items:center;
    }

    /* Main area */
    .main {
      padding:12px;
    }
    .topbar {
      display:flex;align-items:center;gap:14px;justify-content:space-between;margin-bottom:18px;
    }
    .search {
      background:var(--glass);padding:10px 12px;border-radius:12px;display:flex;gap:12px;align-items:center;width:60%;
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.02);
    }
    .search input{
      background:transparent;border:0;outline:none;color:var(--muted);width:100%;font-weight:600;
    }
    .profile {
      display:flex;align-items:center;gap:12px;
    }
    .profile .avatar {
      width:44px;height:44px;border-radius:10px;background:linear-gradient(90deg,#14202a,#091016);display:flex;align-items:center;justify-content:center;
      color:var(--accent-cyan);font-weight:700;border:1px solid rgba(255,255,255,0.03);
      font-family: 'Orbitron', sans-serif;
    }

    /* Grid content */
    .grid {
      display:grid;
      grid-template-columns: 1fr 380px;
      gap:20px;
    }

    /* Cards and charts */
    .card {
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.015));
      border-radius:12px;padding:16px;border:1px solid rgba(255,255,255,0.03);box-shadow: 0 6px 18px rgba(2,8,23,0.6);
    }

    .kpis { display:flex; gap:12px; margin-bottom:12px; }
    .kpi {
      flex:1;background:linear-gradient(180deg, rgba(102,252,241,0.02), rgba(138,108,255,0.02));padding:12px;border-radius:10px;
      display:flex;flex-direction:column;gap:6px;
    }
    .kpi .label { font-size:12px;color:var(--muted); }
    .kpi .value { font-size:20px;font-weight:800;color:var(--accent-cyan); }

    .chartWrap { height:220px; }

    .small-card { display:flex;flex-direction:column;gap:12px; }

    .donut { display:flex;align-items:center;gap:12px;justify-content:space-between }
    .donut canvas{ width:120px;height:120px; }

    .prices {
      display:flex;gap:12px;flex-wrap:wrap;margin-top:12px;
    }
    .price-card {
      width: 220px; padding:14px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.01));
      border:1px solid rgba(255,255,255,0.02); box-shadow: 0 10px 30px rgba(12,16,22,0.6);
      display:flex;flex-direction:column;gap:8px;
    }
    .price-card h4{ margin:0;color:var(--accent-purple); font-family: 'Orbitron', sans-serif;}
    .price-card .price { font-weight:800;color:var(--accent-cyan); font-size:18px; }
    .price-card ul{ margin:0;padding-left:16px;color:var(--muted); font-size:13px; }
    .price-card .buy { margin-top:auto; display:inline-block;padding:10px 12px;border-radius:8px;text-align:center;background:linear-gradient(90deg,var(--accent-cyan),var(--accent-purple)); color:#041018;font-weight:700;text-decoration:none;cursor:pointer; }

    .terminal {
      background:#020405;border-radius:8px;padding:12px;height:260px;overflow:auto;font-family:ui-monospace, SFMono-Regular, Menlo, monospace;color:#66fcf1;
      box-shadow: inset 0 2px 18px rgba(102,252,241,0.03);
      border:1px solid rgba(102,252,241,0.06);
      font-size:13px;line-height:1.45;
    }
    .terminal .muted { color:#728391;font-family:Inter, sans-serif;font-weight:600; }

    .vps-area { margin-top:18px; display:grid;grid-template-columns:1fr 380px; gap:18px; align-items:start; }

    .specs { display:flex;flex-direction:column;gap:8px; }
    .specs .row { display:flex;justify-content:space-between;color:var(--muted);padding:8px;border-radius:8px;background:rgba(255,255,255,0.01);border:1px solid rgba(255,255,255,0.02); }

    table {
      width:100%; border-collapse:collapse; font-size:13px; color:#dbeef0;
    }
    table thead th { text-align:left; padding:10px; color:var(--muted); font-weight:700; font-size:12px; }
    table tbody td { padding:10px; border-top:1px solid rgba(255,255,255,0.02); vertical-align:middle; }
    .btn { padding:8px 10px;border-radius:8px;border:0;cursor:pointer;font-weight:700; }
    .btn-green { background:linear-gradient(90deg,var(--accent-cyan),var(--accent-purple)); color:#041018; }
    .btn-yellow { background:linear-gradient(90deg,#ffd66b,#ffb86b); color:#041018; }
    .btn-ghost { background:transparent;border:1px solid rgba(255,255,255,0.06); color:var(--muted); }

    .muted-text{ color:var(--muted); font-size:13px; }
    .title { font-weight:900; color:#e7fdf9; font-size:16px; display:flex;align-items:center;gap:8px; }

    /* small toast */
    .toast {
      position:fixed; right:20px; bottom:20px; background:linear-gradient(90deg,var(--accent-cyan),var(--accent-purple));
      color:#041018;padding:12px 16px;border-radius:10px;font-weight:800;box-shadow:0 8px 30px rgba(8,12,20,0.6);
      transform:translateY(12px);opacity:0;transition:all .32s;
      z-index:9999;
    }
    .toast.show { transform:translateY(0); opacity:1; }

    /* responsive */
    @media(max-width:1100px){
      .app{grid-template-columns: 1fr; padding:12px;}
      .grid{ grid-template-columns: 1fr; }
      .vps-area{ grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <div class="app">

    <!-- SIDEBAR -->
    <aside class="sidebar" aria-label="Sidebar">
      <div class="brand"><span class="dot"></span>Sagara Hosting</div>

      <nav class="menu" role="navigation" aria-label="Main menu">
        <button class="active" data-panel="overview">Overview <span class="badge">Live</span></button>
        <button data-panel="servers">Servers</button>
        <button data-panel="pricing">Pricing</button>
        <button data-panel="orders">Orders</button>
        <button data-panel="settings">Settings</button>
      </nav>

      <div class="foot">
        <div class="muted-text">© 2025 Sagara</div>
        <div class="muted-text">v2.0</div>
      </div>
    </aside>

    <!-- MAIN -->
    <main class="main">

      <!-- Topbar -->
      <div class="topbar">
        <div style="display:flex;gap:14px;align-items:center;width:100%;">
          <div class="search card" style="flex:1;">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M21 21l-4.35-4.35" stroke="#6fe6df" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/><circle cx="11" cy="11" r="6" stroke="#6fe6df" stroke-width="1.4"/></svg>
            <input placeholder="Search servers, orders or invoices..." id="q" />
          </div>
        </div>

        <div class="profile">
          <div style="text-align:right;">
            <div class="muted-text" style="font-size:13px">Welcome, Lilith</div>
            <div style="font-weight:800;color:var(--accent-cyan)">Administrator</div>
          </div>
          <div class="avatar">LS</div>
        </div>
      </div>

      <!-- Panels container -->
      <section id="panel-area">

        <!-- OVERVIEW -->
        <div id="overview" class="panel active">
          <div class="grid">
            <div>
              <div class="card">
                <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;">
                  <div>
                    <div class="title">Overview</div>
                    <div class="muted-text">Ringkasan performa & health</div>
                  </div>
                  <div style="text-align:right">
                    <div style="font-size:20px;font-weight:900;color:var(--accent-purple)">Sagara • Dashboard</div>
                    <div class="muted-text">Realtime snapshot</div>
                  </div>
                </div>

                <div class="kpis" role="list">
                  <div class="kpi">
                    <div class="label">Server Aktif</div>
                    <div class="value" id="kpi-servers">3</div>
                  </div>
                  <div class="kpi">
                    <div class="label">Pengguna Terhubung</div>
                    <div class="value" id="kpi-users">148</div>
                  </div>
                  <div class="kpi">
                    <div class="label">Load Avg</div>
                    <div class="value" id="kpi-load">0.32</div>
                  </div>
                </div>

                <div class="chartWrap">
                  <canvas id="uptimeChart"></canvas>
                </div>
              </div>

              <div style="height:14px"></div>

              <div class="card">
                <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;">
                  <div class="title">Server Terminal</div>
                  <div class="muted-text">Realtime logs</div>
                </div>
                <div class="terminal" id="mainTerminal">[INFO] Initializing Sagara Node...</div>

                <!-- simple command input (bonus) -->
                <div style="margin-top:10px;display:flex;gap:8px;">
                  <input id="cmdInput" placeholder="Type command (e.g. status, restart server)" style="flex:1;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--muted)" />
                  <button class="btn btn-green" id="cmdSend">Send</button>
                </div>
              </div>
            </div>

            <aside>
              <div class="card small-card">
                <div>
                  <div style="display:flex;justify-content:space-between;align-items:center;">
                    <div class="title">Resource Monitor</div>
                    <div class="muted-text">Live</div>
                  </div>
                  <div style="height:12px"></div>
                  <div style="display:flex;flex-direction:column;gap:8px;">
                    <div style="display:flex;justify-content:space-between;"><div class="muted-text">CPU</div><div style="font-weight:900;color:var(--accent-cyan)" id="cpuVal">12%</div></div>
                    <div style="display:flex;justify-content:space-between;"><div class="muted-text">RAM</div><div style="font-weight:900;color:var(--accent-purple)" id="ramVal">23%</div></div>
                    <div style="display:flex;justify-content:space-between;"><div class="muted-text">Network</div><div style="font-weight:900;color:#ffd66b" id="netVal">1.2Gbps</div></div>
                  </div>
                </div>

                <div style="height:8px"></div>

                <div>
                  <div style="display:flex;justify-content:space-between;">
                    <div class="title">Quick Actions</div>
                    <div class="muted-text">Tools</div>
                  </div>
                  <div style="margin-top:8px;display:flex;gap:8px;flex-wrap:wrap;">
                    <button class="btn btn-ghost" onclick="appendLog('[ACTION] Restart requested by admin')">Restart</button>
                    <button class="btn btn-ghost" onclick="appendLog('[ACTION] Optimize requested by admin')">Optimize</button>
                    <button class="btn btn-ghost" onclick="appendLog('[ACTION] Secure mode toggled')">Secure</button>
                  </div>
                </div>
              </div>
            </aside>
          </div>
        </div>

        <!-- SERVERS -->
        <div id="servers" class="panel" style="display:none;">
          <div class="card">
            <div style="display:flex;justify-content:space-between;align-items:center;">
              <div>
                <div class="title">Servers</div>
                <div class="muted-text">Manage active nodes & clusters</div>
              </div>
              <div>
                <button onclick="appendLog('[ACTION] Create server - demo')" class="btn btn-green">Create Server</button>
              </div>
            </div>

            <div style="margin-top:12px;">
              <div style="display:flex;gap:12px;align-items:center;margin-bottom:12px;">
                <div style="width:8px;height:55px;background:linear-gradient(180deg,var(--accent-cyan),var(--accent-purple));border-radius:6px"></div>
                <div style="flex:1;padding:12px;border-radius:8px;background:rgba(255,255,255,0.01);display:flex;justify-content:space-between;align-items:center;">
                  <div>
                    <div style="font-weight:800">Sagara-Node-01</div>
                    <div class="muted-text">Ubuntu 24.04 • Singapore</div>
                  </div>
                  <div style="text-align:right">
                    <div style="font-weight:900;color:var(--accent-cyan)">ONLINE</div>
                    <div class="muted-text">CPU 12% • RAM 18%</div>
                  </div>
                </div>
              </div>

              <div style="display:flex;gap:12px;align-items:center;">
                <div style="width:8px;height:55px;background:linear-gradient(180deg,#ffd66b,#ff8a6b);border-radius:6px"></div>
                <div style="flex:1;padding:12px;border-radius:8px;background:rgba(255,255,255,0.01);display:flex;justify-content:space-between;align-items:center;">
                  <div>
                    <div style="font-weight:800">Sagara-Edge-02</div>
                    <div class="muted-text">Debian 12 • Tokyo</div>
                  </div>
                  <div style="text-align:right">
                    <div style="font-weight:900;color:#ffd66b">MAINT</div>
                    <div class="muted-text">CPU 72% • RAM 64%</div>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>

        <!-- PRICING -->
        <div id="pricing" class="panel" style="display:none;">
          <div class="card">
            <div style="display:flex;justify-content:space-between;align-items:center;">
              <div>
                <div class="title">Pricing</div>
                <div class="muted-text">Pilih paket atau gunakan kalkulator</div>
              </div>
              <div class="muted-text">Pembayaran via WA</div>
            </div>

            <div class="prices" style="margin-top:14px;">
              <div class="price-card" data-package="RAM 1GB" data-price="2500">
                <h4>RAM 1GB</h4>
                <div class="price">Rp 2.500</div>
                <ul>
                  <li>Node.js terbaru</li>
                  <li>VPS berkualitas</li>
                  <li>Hemat kuota</li>
                  <li>Full Garansi</li>
                </ul>
                <a class="buy" onclick="buyNowCard(this)">Beli Sekarang</a>
              </div>

              <div class="price-card" data-package="RAM 3GB" data-price="6000">
                <h4>RAM 3GB</h4>
                <div class="price">Rp 6.000</div>
                <ul>
                  <li>Node.js terbaru</li>
                  <li>VPS berkualitas</li>
                  <li>Hemat kuota</li>
                  <li>Full Garansi</li>
                </ul>
                <a class="buy" onclick="buyNowCard(this)">Beli Sekarang</a>
              </div>

              <div class="price-card" data-package="RAM 5GB" data-price="8000">
                <h4>RAM 5GB</h4>
                <div class="price">Rp 8.000</div>
                <ul>
                  <li>Node.js terbaru</li>
                  <li>VPS berkualitas</li>
                  <li>Hemat kuota</li>
                  <li>Full Garansi</li>
                </ul>
                <a class="buy" onclick="buyNowCard(this)">Beli Sekarang</a>
              </div>

              <div class="price-card" data-package="RAM 10GB" data-price="10000">
                <h4>RAM 10GB</h4>
                <div class="price">Rp 10.000</div>
                <ul>
                  <li>Node.js terbaru</li>
                  <li>VPS berkualitas</li>
                  <li>Hemat kuota</li>
                  <li>Full Garansi</li>
                </ul>
                <a class="buy" onclick="buyNowCard(this)">Beli Sekarang</a>
              </div>

              <div class="price-card" data-package="RAM Unlimited" data-price="15000">
                <h4>RAM Unlimited</h4>
                <div class="price">Rp 15.000</div>
                <ul>
                  <li>Node.js terbaru</li>
                  <li>VPS berkualitas</li>
                  <li>Hemat kuota</li>
                  <li>Full Garansi</li>
                </ul>
                <a class="buy" onclick="buyNowCard(this)">Beli Sekarang</a>
              </div>
            </div>

            <!-- Calculator -->
            <div style="margin-top:16px;display:flex;gap:12px;flex-wrap:wrap;align-items:flex-start">
              <div style="flex:1;min-width:320px;">
                <div class="card" style="padding:12px;">
                  <div class="title">Auto Pricing Calculator</div>
                  <div class="muted-text" style="margin-top:6px">Pilih paket & bandwidth untuk melihat estimasi harga</div>

                  <div style="margin-top:12px;display:flex;gap:8px;align-items:center;">
                    <select id="calcRam" style="padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--muted);font-weight:700;">
                      <option value="1">RAM 1GB</option>
                      <option value="3">RAM 3GB</option>
                      <option value="5">RAM 5GB</option>
                      <option value="10">RAM 10GB</option>
                      <option value="unlimited">RAM Unlimited</option>
                    </select>

                    <select id="calcBw" style="padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--muted);font-weight:700;">
                      <option value="10">10 Mbps</option>
                      <option value="50">50 Mbps</option>
                      <option value="100">100 Mbps</option>
                      <option value="200">200 Mbps</option>
                      <option value="500">500 Mbps</option>
                      <option value="1000">1000 Mbps</option>
                    </select>

                    <button class="btn btn-green" id="calcBtn">Hitung Harga</button>
                  </div>

                  <div style="margin-top:12px;display:flex;gap:12px;align-items:center;">
                    <div style="flex:1">
                      <div class="muted-text">Harga Dasar</div>
                      <div id="calcBase" style="font-weight:900;color:var(--accent-cyan)">Rp 2.500</div>
                    </div>
                    <div style="flex:1">
                      <div class="muted-text">Bandwidth Cost</div>
                      <div id="calcBwCost" style="font-weight:900;color:var(--accent-purple)">Rp 1.000</div>
                    </div>
                    <div style="flex:1">
                      <div class="muted-text">Total</div>
                      <div id="calcTotal" style="font-weight:900;color:#ffd66b">Rp 3.500</div>
                    </div>
                  </div>

                  <div style="margin-top:12px;">
                    <button class="btn btn-green" id="calcBuy">Beli Dengan Kalkulator</button>
                  </div>
                </div>
              </div>

              <div style="width:320px;">
                <div class="card">
                  <div class="title">Keuntungan</div>
                  <div class="muted-text" style="margin-top:8px;">
                    + menggunakan Node.js terbaru<br>
                    + VPS berkualitas<br>
                    + menghemat kuota dan penyimpanan<br>
                    + Full Garansi<br>
                    + server fast
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>

        <!-- ORDERS -->
        <div id="orders" class="panel" style="display:none;">
          <div class="card">
            <div style="display:flex;justify-content:space-between;align-items:center;">
              <div>
                <div class="title">Orders</div>
                <div class="muted-text">Daftar pesanan pelanggan</div>
              </div>
              <div>
                <button class="btn btn-green" onclick="createDemoOrder()">+ New Demo Order</button>
              </div>
            </div>

            <div style="margin-top:12px;">
              <table id="ordersTable" aria-label="Orders table">
                <thead>
                  <tr>
                    <th>ID</th>
                    <th>Username</th>
                    <th>Package</th>
                    <th>Status</th>
                    <th>Aksi</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- rows populated by JS -->
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- SETTINGS -->
        <div id="settings" class="panel" style="display:none;">
          <div class="card">
            <div class="title">Settings</div>
            <div class="muted-text" style="margin-top:8px">Pengaturan demo (placeholder)</div>
            <div style="margin-top:12px;display:flex;gap:12px;flex-wrap:wrap">
              <button onclick="alert('Theme switch demo')" class="btn btn-ghost">Switch Theme</button>
              <button onclick="alert('Profile settings demo')" class="btn btn-ghost">Profile</button>
            </div>
          </div>
        </div>

      </section>

      <!-- VPS Info Terminal (below everything) -->
      <div style="margin-top:18px;">
        <div class="card">
          <div style="display:flex;justify-content:space-between;align-items:center;">
            <div>
              <div class="title">VPS Info (Terminal)</div>
              <div class="muted-text">Informasi VPS terbagus — otomatis tampil di bawah pricing</div>
            </div>
            <div class="muted-text">Realtime snapshot</div>
          </div>

          <div style="margin-top:14px;">
            <div class="terminal" id="infoTerminal">[VPS] Booting Sagara Premium Node...</div>
          </div>
        </div>
      </div>

    </main>
  </div>

  <!-- Toast -->
  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <script>
    // --- Panel nav behavior ---
    const menuButtons = document.querySelectorAll('.menu button');
    const panels = document.querySelectorAll('.panel');

    menuButtons.forEach(btn=>{
      btn.addEventListener('click', ()=>{
        menuButtons.forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        const panelId = btn.getAttribute('data-panel');

        panels.forEach(p=>{
          if(p.id === panelId){
            p.style.display = '';
            p.classList.add('active');
          } else {
            p.style.display = 'none';
            p.classList.remove('active');
          }
        });

        window.scrollTo({top:0, behavior:'smooth'});
      });
    });

    // --- Charts (uptime) ---
    const uptimeCtx = document.getElementById('uptimeChart').getContext('2d');
    const uptimeChart = new Chart(uptimeCtx, {
      type: 'line',
      data: {
        labels: ['Sen','Sel','Rab','Kam','Jum','Sab','Min'],
        datasets: [{
          label: 'Uptime %',
          data: [99.9,100,99.8,99.95,99.97,99.99,99.98],
          borderColor: '#66fcf1',
          tension:0.35,
          pointRadius:3,
          borderWidth:2,
          fill: true,
          backgroundColor: 'rgba(102,252,241,0.04)'
        }]
      },
      options: {
        responsive:true,
        plugins:{legend:{display:false}},
        scales:{
          x:{ grid:{ color:'rgba(255,255,255,0.02)' }, ticks:{ color:'#a8bbbf' } },
          y:{ min:99.5, max:100, grid:{ color:'rgba(255,255,255,0.02)' }, ticks:{ color:'#a8bbbf' } }
        }
      }
    });

    // --- Terminal logs ---
    const mainTerminal = document.getElementById('mainTerminal');
    function appendLog(text) {
      const now = new Date().toLocaleTimeString();
      mainTerminal.textContent += `\n[${now}] ${text}`;
      mainTerminal.scrollTop = mainTerminal.scrollHeight;
    }

    // initial simulated logs
    const initialLogs = [
      'System boot sequence complete.',
      'Node manager started.',
      'Docker containers healthy.',
      'Backup schedule active.',
      'DDoS protection engaged.'
    ];
    initialLogs.forEach((l,i)=> setTimeout(()=> appendLog(l), 500 + i*600));

    // command input
    document.getElementById('cmdSend').addEventListener('click', ()=>{
      const cmd = document.getElementById('cmdInput').value.trim();
      if(!cmd) { showToast('Masukkan perintah dulu'); return; }
      appendLog(`[CMD] ${cmd}`);
      // simulate responses
      setTimeout(()=> {
        if(cmd.toLowerCase().includes('status')) appendLog('Server Sagara-Node-01 is running at 99.99% uptime');
        else if(cmd.toLowerCase().includes('restart')) appendLog('Server restart initiated... OK');
        else appendLog('Command executed (demo).');
      }, 800);
      document.getElementById('cmdInput').value = '';
    });

    // --- VPS info terminal (infoTerminal) ---
    const infoTerminal = document.getElementById('infoTerminal');
    const infoLines = [
      '[VPS] Hardware check OK',
      '[VPS] Network handshake with edge nodes: OK',
      '[VPS] Secure tunnel established',
      '[VPS] Services: nginx, node, docker loaded',
      '[VPS] Backups scheduled: daily 02:00 UTC',
      '[VPS] Snapshot ID: sagara-snap-2025-06-12',
      '[VPS] Health: Optimal — No alerts'
    ];
    infoLines.forEach((l,i)=> setTimeout(()=> {
      infoTerminal.textContent += '\n' + l;
      infoTerminal.scrollTop = infoTerminal.scrollHeight;
    }, 600 + i*700));

    // --- small live resource simulation ---
    function updateResources(){
      const cpu = (8 + Math.round(Math.random()*30)).toString() + '%';
      const ram = (18 + Math.round(Math.random()*40)).toString() + '%';
      const net = ( (Math.random()*2 + 0.2).toFixed(2) ) + 'Gbps';
      document.getElementById('cpuVal').textContent = cpu;
      document.getElementById('ramVal').textContent = ram;
      document.getElementById('netVal').textContent = net;

      // update kpis
      document.getElementById('kpi-load').textContent = ( (Math.random()*1.2).toFixed(2) );
      document.getElementById('kpi-users').textContent = 120 + Math.floor(Math.random()*50);
    }
    setInterval(updateResources, 4000);
    updateResources();

    // --- Pricing calculator logic ---
    const priceMap = {
      "1": 2500,
      "3": 6000,
      "5": 8000,
      "10": 10000,
      "unlimited": 15000
    };

    function formatRp(n){
      return 'Rp ' + n.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
    }

    function calcPrice(ramSel, bw){
      // base price from mapping; bandwidth cost formula: per 100Mbps -> Rp 1000
      const base = priceMap[ramSel] || 2500;
      const bwCost = Math.ceil(bw / 100) * 1000;
      const total = base + bwCost;
      return { base, bwCost, total };
    }

    function updateCalcDisplay(){
      const ramSel = document.getElementById('calcRam').value;
      const bw = parseInt(document.getElementById('calcBw').value, 10);
      const { base, bwCost, total } = calcPrice(ramSel, bw);
      document.getElementById('calcBase').textContent = formatRp(base);
      document.getElementById('calcBwCost').textContent = formatRp(bwCost);
      document.getElementById('calcTotal').textContent = formatRp(total);
      return { ramSel, bw, base, bwCost, total };
    }

    document.getElementById('calcBtn').addEventListener('click', ()=>{
      const out = updateCalcDisplay();
      showToast(`Estimasi: ${formatRp(out.total)} untuk ${out.ramSel} + ${out.bw}Mbps`);
    });

    document.getElementById('calcBuy').addEventListener('click', ()=>{
      const out = updateCalcDisplay();
      const pkgText = `${out.ramSel === 'unlimited' ? 'RAM Unlimited' : 'RAM ' + out.ramSel + 'GB'} • ${out.bw}Mbps • ${formatRp(out.total)}`;
      // WA number: 6287840275933
      const text = encodeURIComponent("kak aku mau beli " + pkgText);
      window.open(`https://wa.me/6287840275933?text=${text}`, '_blank');
    });

    // buy from price cards
    function buyNowCard(el){
      const parent = el.closest('.price-card');
      const pkgName = parent.getAttribute('data-package');
      const base = parseInt(parent.getAttribute('data-price'),10) || 2500;
      const text = encodeURIComponent(`kak aku mau beli ${pkgName} • Harga dasar ${formatRp(base)}`);
      window.open(`https://wa.me/6287840275933?text=${text}`, '_blank');
    }

    // --- Orders panel logic ---
    let orders = [
      { id: '#001', username: 'RyuSagara', package: 'RAM 3GB', status: 'Active' },
      { id: '#002', username: 'KiraDev', package: 'RAM 5GB', status: 'Pending' },
      { id: '#003', username: 'MeiChan', package: 'RAM Unlimited', status: 'Expired' },
      { id: '#004', username: 'Aditya', package: 'RAM 1GB', status: 'Active' }
    ];

    function renderOrders(){
      const tbody = document.querySelector('#ordersTable tbody');
      tbody.innerHTML = '';
      orders.forEach((o,idx)=>{
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${o.id}</td>
          <td>${o.username}</td>
          <td>${o.package}</td>
          <td>${renderStatus(o.status)}</td>
          <td style="white-space:nowrap">
            ${renderActions(idx, o.status)}
          </td>
        `;
        tbody.appendChild(tr);
      });
    }

    function renderStatus(s){
      if(s === 'Active') return `<strong style="color:var(--accent-cyan)">${s}</strong>`;
      if(s === 'Pending') return `<strong style="color:#ffd66b">${s}</strong>`;
      if(s === 'Expired') return `<strong style="color:#ff6b6b">${s}</strong>`;
      if(s === 'Cancelled') return `<strong style="color:#a0a0a0">${s}</strong>`;
      return s;
    }

    function renderActions(idx, status){
      let html = '';
      if(status === 'Pending'){
        html += `<button class="btn btn-green" onclick="activateOrder(${idx})">Activate</button> `;
      }
      if(status === 'Expired'){
        html += `<button class="btn btn-yellow" onclick="renewOrder(${idx})">Renew</button> `;
      }
      if(status === 'Active'){
        html += `<button class="btn btn-ghost" onclick="manageOrder(${idx})">Manage</button> `;
      }
      html += `<button class="btn" style="margin-left:6px" onclick="cancelOrder(${idx})">Cancel</button>`;
      return html;
    }

    function activateOrder(i){
      const o = orders[i];
      o.status = 'Active';
      appendLog(`[ORDER] Order ${o.id} for ${o.username} activated ✅`);
      renderOrders();
      showToast(`Order ${o.id} diaktifkan`);
    }

    function renewOrder(i){
      const o = orders[i];
      o.status = 'Active';
      appendLog(`[ORDER] Order ${o.id} for ${o.username} renewed ✅`);
      renderOrders();
      showToast(`Order ${o.id} diperpanjang`);
    }

    function cancelOrder(i){
      const o = orders[i];
      o.status = 'Cancelled';
      appendLog(`[ORDER] Order ${o.id} for ${o.username} cancelled ❌`);
      renderOrders();
      showToast(`Order ${o.id} dibatalkan`);
    }

    function manageOrder(i){
      const o = orders[i];
      appendLog(`[ORDER] Managing ${o.id} (${o.username})`);
      showToast(`Manage ${o.id}`);
    }

    function createDemoOrder(){
      const nextId = '#00' + (orders.length + 1);
      const names = ['Nova','Sakura','Zen','Mika','Haruto'];
      const pkgs = ['RAM 1GB','RAM 3GB','RAM 5GB','RAM 10GB','RAM Unlimited'];
      const newOrder = {
        id: nextId,
        username: names[Math.floor(Math.random()*names.length)] + Math.floor(Math.random()*90),
        package: pkgs[Math.floor(Math.random()*pkgs.length)],
        status: 'Pending'
      };
      orders.unshift(newOrder);
      renderOrders();
      appendLog(`[ORDER] New demo order ${newOrder.id} created (status: Pending)`);
      showToast(`Order ${newOrder.id} dibuat`);
    }

    // initial render
    renderOrders();

    // --- small toast utility ---
    const toastEl = document.getElementById('toast');
    let toastTimer = null;
    function showToast(msg, time=2800){
      toastEl.textContent = msg;
      toastEl.classList.add('show');
      clearTimeout(toastTimer);
      toastTimer = setTimeout(()=> toastEl.classList.remove('show'), time);
    }

    // --- Orders interaction logs also show in main terminal ---
    // (already appended via functions above)

    // --- info terminal simulate ---
    const vpsLines = [
      '[SYSTEM] Sagara VPS Information Loaded',
      '[VPS NAME] Sagara-Node-01',
      '[OS] Ubuntu Server 24.04 LTS (64-bit)',
      '[KERNEL] Linux 6.8.0-32-generic',
      '[CPU] AMD EPYC 9654P — 96-Core @ up to 3.7GHz',
      '[GPU] NVIDIA RTX A6000 — 48GB GDDR6',
      '[RAM] 128GB DDR5 6400MHz',
      '[STORAGE] 2TB NVMe Gen4 SSD (RAID 1)',
      '[BANDWIDTH] 10Gbps Unmetered',
      '[UPTIME SLA] 99.99%',
      '[LOCATION] Singapore — Tier IV',
      '[SECURITY] DDoS Protection + Auto Backup Enabled',
      '[STATUS] ONLINE ✅'
    ];

    (function fillVPSInfo(){
      const t = document.getElementById('infoTerminal');
      let idx = 0;
      const iv = setInterval(()=>{
        if(idx < vpsLines.length){
          t.textContent += '\\n' + vpsLines[idx++];
          t.scrollTop = t.scrollHeight;
        } else {
          clearInterval(iv);
          // keep heartbeat
          setInterval(()=> {
            if(Math.random() > 0.85){
              t.textContent += '\\n' + '[VPS] Heartbeat: OK • ' + new Date().toLocaleTimeString();
              t.scrollTop = t.scrollHeight;
            }
          }, 9000);
        }
      }, 600);
    })();

    // accessibility: search enter
    document.getElementById('q').addEventListener('keydown', function(e){
      if(e.key === 'Enter') {
        showToast('Search (demo): ' + this.value);
      }
    });

    // init calc display
    updateCalcDisplay();

    // expose buy function for price cards (global)
    window.buyNowCard = buyNowCard;
    window.appendLog = appendLog;
    window.activateOrder = activateOrder;
    window.renewOrder = renewOrder;
    window.cancelOrder = cancelOrder;
    window.manageOrder = manageOrder;
    window.createDemoOrder = createDemoOrder;

    // --- Small keyboard shortcuts (demo) ---
    document.addEventListener('keydown', (e)=>{
      if(e.key === 'o' && (e.ctrlKey || e.metaKey)){ // Ctrl+O -> Orders
        document.querySelector('.menu button[data-panel="orders"]').click();
        showToast('Open Orders (shortcut)');
      }
    });

    // --- Enable price calc dropdown change updates ---
    document.getElementById('calcRam').addEventListener('change', updateCalcDisplay);
    document.getElementById('calcBw').addEventListener('change', updateCalcDisplay);

  </script>
</body>
</html>
